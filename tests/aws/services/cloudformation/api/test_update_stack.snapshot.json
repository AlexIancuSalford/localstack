{
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_update_with_resource_types": {
    "recorded-date": "19-11-2022, 14:34:18",
    "recorded-content": {
      "invalid_type_error": {
        "Error": {
          "Code": "ValidationError",
          "Message": "Resource type AWS::SNS::Topic is not allowed by parameter ResourceTypes [AWS::EC2:*]",
          "Type": "Sender"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "resource_not_allowed": {
        "Error": {
          "Code": "ValidationError",
          "Message": "Resource type AWS::SNS::Topic is not allowed by parameter ResourceTypes [AWS::EC2::*]",
          "Type": "Sender"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_basic_update": {
    "recorded-date": "21-11-2022, 08:27:37",
    "recorded-content": {
      "update_response": {
        "StackId": "<stack-id:1>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_no_template_error": {
    "recorded-date": "21-11-2022, 08:57:45",
    "recorded-content": {
      "error": {
        "Error": {
          "Code": "ValidationError",
          "Message": "Either Template URL or Template Body must be specified.",
          "Type": "Sender"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_no_parameters_error_update": {
    "recorded-date": "21-11-2022, 09:45:22",
    "recorded-content": {}
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_update_with_previous_parameter_value": {
    "recorded-date": "21-11-2022, 10:38:33",
    "recorded-content": {}
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_update_with_role_without_permissions": {
    "recorded-date": "21-11-2022, 14:14:52",
    "recorded-content": {
      "error": {
        "Error": {
          "Code": "ValidationError",
          "Message": "Role arn:aws:iam::111111111111:role/role-fb405076 is invalid or cannot be assumed",
          "Type": "Sender"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::test_update_with_invalid_rollback_configuration_errors": {
    "recorded-date": "21-11-2022, 15:36:32",
    "recorded-content": {
      "type_error": {
        "Error": {
          "Code": "ValidationError",
          "Message": "Rollback Trigger Type not supported",
          "Type": "Sender"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "arn_error": {
        "Error": {
          "Code": "ValidationError",
          "Message": "RelativeId of a Rollback Trigger's ARN is incorrect",
          "Type": "Sender"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::TestUpdateDetection::test_update_with_replacement": {
    "recorded-date": "17-02-2024, 10:37:21",
    "recorded-content": {
      "stack_resource_preupdate": {
        "StackResourceDetail": {
          "DriftInformation": {
            "StackResourceDriftStatus": "NOT_CHECKED"
          },
          "LastUpdatedTimestamp": "timestamp",
          "LogicalResourceId": "TestSsmParam",
          "Metadata": {},
          "PhysicalResourceId": "/test/updates/<random-scope>/<resource:2>",
          "ResourceStatus": "CREATE_COMPLETE",
          "ResourceType": "AWS::SSM::Parameter",
          "StackId": "arn:aws:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:1>",
          "StackName": "<stack-name:1>"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "get_param_1": {
        "Parameter": {
          "ARN": "arn:aws:ssm:<region>:111111111111:parameter/test/updates/<random-scope>/<resource:2>",
          "DataType": "text",
          "LastModifiedDate": "datetime",
          "Name": "/test/updates/<random-scope>/<resource:2>",
          "Type": "String",
          "Value": "myvalue",
          "Version": 1
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "stack_resource_postupdate": {
        "StackResourceDetail": {
          "DriftInformation": {
            "StackResourceDriftStatus": "NOT_CHECKED"
          },
          "LastUpdatedTimestamp": "timestamp",
          "LogicalResourceId": "TestSsmParam",
          "Metadata": {},
          "PhysicalResourceId": "/test/updates/<random-scope>/<resource:3>",
          "ResourceStatus": "UPDATE_COMPLETE",
          "ResourceType": "AWS::SSM::Parameter",
          "StackId": "arn:aws:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:1>",
          "StackName": "<stack-name:1>"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "get_param_1_postupdate_exception": {
        "Error": {
          "Code": "ParameterNotFound",
          "Message": ""
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "get_param_2": {
        "Parameter": {
          "ARN": "arn:aws:ssm:<region>:111111111111:parameter/test/updates/<random-scope>/<resource:3>",
          "DataType": "text",
          "LastModifiedDate": "datetime",
          "Name": "/test/updates/<random-scope>/<resource:3>",
          "Type": "String",
          "Value": "myvalue",
          "Version": 1
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_update_stack.py::TestUpdateDetection::test_update_in_place": {
    "recorded-date": "17-02-2024, 19:09:54",
    "recorded-content": {
      "stack_resource_preupdate": {
        "StackResourceDetail": {
          "DriftInformation": {
            "StackResourceDriftStatus": "NOT_CHECKED"
          },
          "LastUpdatedTimestamp": "timestamp",
          "LogicalResourceId": "TestSsmParam",
          "Metadata": {},
          "PhysicalResourceId": "/test/updates/<random-scope>/<resource:2>",
          "ResourceStatus": "CREATE_COMPLETE",
          "ResourceType": "AWS::SSM::Parameter",
          "StackId": "arn:aws:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:1>",
          "StackName": "<stack-name:1>"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "get_param_1": {
        "Parameter": {
          "ARN": "arn:aws:ssm:<region>:111111111111:<resource:2>eter/test/updates/<random-scope>/<resource:2>",
          "DataType": "text",
          "LastModifiedDate": "datetime",
          "Name": "/test/updates/<random-scope>/<resource:2>",
          "Type": "String",
          "Value": "val1",
          "Version": 1
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "stack_resource_postupdate": {
        "StackResourceDetail": {
          "DriftInformation": {
            "StackResourceDriftStatus": "NOT_CHECKED"
          },
          "LastUpdatedTimestamp": "timestamp",
          "LogicalResourceId": "TestSsmParam",
          "Metadata": {},
          "PhysicalResourceId": "/test/updates/<random-scope>/<resource:2>",
          "ResourceStatus": "UPDATE_COMPLETE",
          "ResourceType": "AWS::SSM::Parameter",
          "StackId": "arn:aws:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:1>",
          "StackName": "<stack-name:1>"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "get_param_2": {
        "Parameter": {
          "ARN": "arn:aws:ssm:<region>:111111111111:<resource:2>eter/test/updates/<random-scope>/<resource:2>",
          "DataType": "text",
          "LastModifiedDate": "datetime",
          "Name": "/test/updates/<random-scope>/<resource:2>",
          "Type": "String",
          "Value": "val2",
          "Version": 2
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  }
}
